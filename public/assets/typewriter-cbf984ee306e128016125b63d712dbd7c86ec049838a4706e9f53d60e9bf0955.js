function Typewriter(){function t(t,e){d=t,u.time=e.time||Phaser.Timer.SECOND/10,u.sound=e.sound||null,u.soundMarker=e.soundMarker||null,u.writerFn=e.writerFn||null,u.endFn=e.endFn||null,u.times=e.times||10,u.text=e.text||"",u.x=e.x||100,u.y=e.y||100,u.maxWidth=e.maxWidth||200,u.fontFamily=e.fontFamily||"blackFont",u.fontSize=e.fontSize||28,u.writerObj=e.writerObj||null}function e(){i(u.text,u.x,u.y)}function n(){void 0!==u.timer&&(u.timer.stop(),d.time.events.remove(u.timer)),null!==u.sound&&u.sound.stop()}function i(t,e,n){null===u.writerObj?u.typedText=d.add.bitmapText(e,n,u.fontFamily,t,u.fontSize):u.typedText=u.writerObj,u.typedText.maxWidth=u.maxWidth,u.currentLetter=0;for(var i=u.typedText.children.length,l=0;l<i;l++){var s=u.typedText.getChildAt(l);s.alpha=0}null!==u.sound&&(null!==u.soundMarker?u.sound.play(u.soundMarker,null,1,!0,!0):u.sound.play("",null,1,!0,!0)),u.typedText.x=e,u.typedText.y=n,null!==u.endFn?o(r,i,u.endFn):o(r,i)}function o(t,e,n){var i=d.time.create(!1);i.start(),n=n||function(){d.time.events.remove(i),null!==u.sound&&u.sound.stop()},i.onComplete.add(n),i.repeat(u.time,e,t,this),u.timer=i}function r(){null!==u.sound&&u.sound.isPlaying===!1&&u.sound.play();var t=u.typedText.getChildAt(u.currentLetter);t.alpha=1,u.currentLetter++}this.typedText,this.timer,this.pickedQuote;var d,u=this;return{init:function(e,n){t(e,n)},start:function(){n(),e()},destroy:function(){u.typedText.destroy()},hideText:function(){u.typedText.visible=!1},showText:function(){u.typedText.visible=!0},moveToTop:function(){d.bringToTop(u.typedText)},scroll:function(){u.typedText.y-=.5}}}